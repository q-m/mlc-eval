{"version":3,"sources":["store/confusion.js","store/labels.js","store/files.js","store/model.js","store/features.js","store/config.js","store/index.js","components/App.js","components/Stat.js","components/Summary.js","components/Categories.js","components/ResponsiveFixedDataTable.js","components/Confusion.js","index.js"],"names":["initialState","count","matrix","classes","stats","micro","macro","STAT_LABELS","recall","precision","accuracy","f1","mcc","computeDerivedStats","_ref","tp","fn","fp","tn","Math","sqrt","reducer","state","arguments","length","undefined","action","type","fullMatrix","payload","trim","split","map","l","s","parseInt","slice","a","_ref2","labels","actual","predicted","label","i","p","n","Object","objectSpread","idx","computeClassStats","_ref3","r","forEach","c","keys","stat","computeMacroStats","_ref4","computeMicroStats","Map","newState","indexOf","id","name","set","status","files","files1","defineProperty","url","files2","values","f","includes","combineStatus","files3","key","value","parseFloat","parts","b","has","bmap","get","Array","push","join","itemUrlTemplate","sort","reverse","combineReducers","confusion","model","features","config","windowSize","store","createStore","applyMiddleware","thunk","dispatch","createSizeAction","window","createRemAction","listenResize","FILE_DESC","items","FileIcon","react_default","createElement","Glyphicon","glyph","className","_FilesMenu","_this$props","this","props","title","objectWithoutProperties","NavDropdown","assign","App_FileIcon","fileId","file","MenuItem","Component","FilesMenu","connect","App","Navbar","fluid","inverse","Header","Brand","Toggle","Collapse","Nav","react_router_bootstrap_lib","to","NavItem","pullRight","href","children","getStatRenderer","digitsPct","digitsFlt","digits","isNaN","toFixed","style","fontSize","verticalAlign","Pct","Flt","ModelParams","rows","Table","PureComponent","CategoryStats","_this$props$stats","Qm","dot","Summary","usedLabels","totalLabels","size","Well","Summary_Qm","Row","Col","sm","Panel","Heading","Body","Summary_ModelParams","Summary_CategoryStats","_CategoryItem","Badge","marginRight","CategoryItem","_CategoryList","_this$props2","header","getClasses","containerHeight","renderStat","_getClasses","getCount","ListGroup","height","AutoSizer_default","width","List_default","rowHeight","rowCount","rowRenderer","index","ListGroupItem","bsStyle","scope","getClassesMain","MainCategoryList","getClassesSecondary","cls","find","row","filter","SecondaryCategoryList","_ref5","Categories","_this$props3","_this$props3$match$pa","match","params","ctrue","cpred","md","DropdownButton","bsSize","onClick","configSort","concat","CategoryTokens","src_components_Categories","_ref6","_ref6$config","_CategoryTokens","_this$props4","cat_tokens","maxHeight","replace","_ref7","initialPixels","ResponsiveFixedDataTable","gridWidth","gridHeight","_setDimensionsOnState","_this","__isMounted","_findDOMNode","findDOMNode","assertThisInitialized","offsetWidth","offsetHeight","setState","nextProps","nextState","isEqual","_attachResizeEvent","refreshRate","debounce","removeEventListener","addEventListener","attachEvent","onresize","containerStyle","_this$state","_getStyle","main","ref","React","defaultProps","MatrixCell","sum","self","TitleCell","textAlign","Confusion","_this$props$confusion","ResponsiveFixedDataTable_ResponsiveFixedDataTable","headerHeight","footerHeight","rowsCount","align","fixed","allowCellsRecycling","cell","rowIndex","footer","Confusion_MatrixCell","esm_extends","_ref8","_ref9","qs","parse","location","search","baseUrl","setItemUrlTemplate","fetch","then","response","text","data","catch","err","console","log","loadLabels","headers","Range","loadModel","loadFeatures","loadDefault","ReactDOM","render","es","HashRouter","src_components_App","Route","path","exact","component","document","getElementById"],"mappings":"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","file":"static/js/main.36e95d1f.chunk.js","sourcesContent":["\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'confusion', url}});\n    fetch(url)\n      .then(response => response.text())\n      .then(data => dispatch({type: 'CONFUSION_LOAD', payload: data}))\n      // .then(data => dispatch(sort('recall')))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'confusion'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nexport function sort(key, reverse = true) {\n  return {type: 'CONFUSION_SORT', payload: {key, reverse: !!reverse}};\n}\n\nconst initialState = {\n  count: null,      // number of items\n  matrix: [],       // confusion matrix contents (without headers or sums)\n  classes: [],      // class labels and stats in matrix order (x- and y-axis) (array of objects)\n  stats: {\n    micro: {},      // micro-averaged statistics for all classes\n    macro: {},      // macro-averaged statistics for all classes\n  },\n};\n\nexport const STAT_LABELS = {\n  recall:    'Recall',\n  precision: 'Precision',\n  accuracy:  'Accuracy',\n  f1:        'F1-score',\n  mcc:       'MCC-score',\n};\n\n// @see https://en.wikipedia.org/wiki/Confusion_matrix\n// @see http://chrisalbon.com/machine-learning/precision_recall_and_F1_scores.html\nfunction computeDerivedStats({ tp, fn, fp, tn }) {\n    const accuracy  = 1.0 * (tp + tn) / (tp + fn + fp + tn);\n    const precision = 1.0 * tp / (tp + fp) || 0;\n    const recall    = 1.0 * tp / (tp + fn) || 0;\n    const f1        = 2.0 * tp / (2 * tp + fp + fn);\n    const mcc       = (tp * tn - fp * fn) / Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn)) || 0;\n    return { accuracy, precision, recall, f1, mcc };\n}\n\nfunction computeClassStats({ count, matrix, labels, actual, predicted }) {\n  return labels.map((label, i) => {\n    const p   = actual[i];          // positive observations\n    const n   = count - p;          // negative observations\n    const tp  = matrix[i][i];       // positive observations with positive predictions\n    const fn  = p - tp;             // positive observations with negative predictions\n    const fp  = predicted[i] - tp;  // negative observations with positive predictions\n    const tn  = n - fp;             // negative observations with negative predictions\n    return {\n      idx: i, label,\n      tp, fp, tn, fn,\n      ...computeDerivedStats({ tp, fp, tn, fn })\n    };\n  });\n}\n\n// compute macro-averaged statistics\n// @see http://rali.iro.umontreal.ca/rali/sites/default/files/publis/sokolovalapalme-jipm09.pdf\nfunction computeMacroStats({ count, classes }) {\n  const r = { accuracy: 0, precision: 0, recall: 0, f1: 0, mcc: 0 };\n  classes.forEach(c => {\n    Object.keys(r).forEach(stat => r[stat] += c[stat]);\n  });\n  Object.keys(r).forEach(stat => r[stat] /= classes.length);\n  return r;\n}\n\n// compute micro-averaged statistics\nfunction computeMicroStats({ count, classes }) {\n  const s = { tp: 0, fn: 0, fp: 0, tn: 0};\n  classes.forEach(c => {\n    Object.keys(s).forEach(stat => s[stat] += c[stat]);\n  });\n  return { ...s, ...computeDerivedStats(s) };\n}\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'CONFUSION_LOAD': {\n    // read full matrix\n    const fullMatrix = action.payload.trim().split(\"\\n\").map(l => l.split(' ').map(s => parseInt(s, 10)));\n    // decompose into basic components\n    const count = fullMatrix.slice(-1)[0].slice(-1)[0];\n    const matrix = fullMatrix.slice(1, -1).map(a => a.slice(1, -1));\n    const labels = fullMatrix[0].slice(1, -1);\n    // compute statistics\n    const actual = fullMatrix.slice(1, -1).map(a => a.slice(-1)[0]);\n    const predicted = fullMatrix.slice(-1)[0].slice(1, -1);\n    const classes = computeClassStats({ count, matrix, labels, actual, predicted });\n    const macro = computeMacroStats({ count, classes });\n    const micro = computeMicroStats({ count, classes });\n    // we have everything now :)\n    return { count, matrix, classes, stats: { micro, macro } };\n  }\n  /*\n  case 'CONFUSION_SORT': {\n    // @todo fix this, indices are mixed up somehow\n    // first create sorted array with position and sort-value\n    const { key, reverse } = action.payload;\n    const sortmul = reverse ? -1 : 1;\n    const mapping = state.classes.map((c,i) => ({ i, v: c[key] }));\n    mapping.sort((a,b) => (a.v - b.v) * sortmul);\n    // then sort labels and matrix\n    const classes = mapping.map(m => ({ ...state.classes[m.i], idx: m.i }));\n    const matrix = mapping.map(m => {\n      const row = state.matrix[m.i];\n      return mapping.map(n => row[n.i]);\n    });\n    return { ...state, matrix, classes };\n  }\n  */\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'labels', url}});\n    fetch(url)\n      .then(response => response.text())\n      .then(data => dispatch({type: 'LABELS_LOAD', payload: data}))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'labels'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nconst initialState = new Map();\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'LABELS_LOAD':\n    const newState = new Map();\n    action.payload.trim().split(\"\\n\").forEach(l => {\n      const i = l.indexOf(' ');\n      const id = parseInt(l.slice(0, i), 10);\n      const name = l.slice(i + 1).trim();\n      newState.set(id, name);\n    });\n    return newState;\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nconst initialState = {\n  status: false,\n  files: {},\n};\n\nfunction combineStatus(files) {\n  const values = Object.values(files).map(f => f.status);\n  if (values.includes(false)) return false;\n  if (values.length === 0 || values.includes(null)) return null;\n  return true;\n}\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'FILE_LOADING':\n    const files1 = { ...state.files, [action.payload.id]: {status: null, url: action.payload.url} };\n    return { ...state, status: null, files: files1 };\n  case 'FILE_LOADED':\n    const files2 = { ...state.files, [action.payload.id]: {...state.files[action.payload.id], status: true} };\n    return { ...state, status: combineStatus(files2), files: files2 };\n  case 'FILE_FAILED':\n    const files3 = { ...state.files, [action.payload.id]: {...state.files[action.payload.id], status: false} };\n    return { ...state, status: false, files: files3 };\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\n// we're only interested in the model header, the rest may be too large to use\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'model', url}});\n    fetch(url, {headers: {'Range': 'bytes=0-10000'}})\n      .then(response => response.text())\n      .then(data => {\n        let idx = data.indexOf('\\nw\\n');\n        if (idx < 0) idx = data.indexOf('\\nSV\\n');\n        return data.slice(0, idx);\n      })\n      // streaming interface not widely supported yet\n      /* .then(response => {\n        const reader = response.body.getReader();\n        const decoder = new TextDecoder();\n        let data = '';\n        return reader.read().then(function processResult(result) {\n          if (result.done) return;\n          data += decoder.decode(result.value, {stream: true});\n          // only keep the part before 'w' or 'SV' on a line by itself\n          let idx = data.indexOf('\\nw\\n');\n          if (idx < 0) idx = data.indexOf('\\nSV\\n');\n          if (idx >= 0) {\n            reader.cancel();\n            return data.slice(0, idx);\n          }\n          // next chunk\n          return reader.read().then(processResult);\n        });\n      }) */\n      .then(data => dispatch({type: 'MODEL_LOAD', payload: data}))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'model'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nconst initialState = new Map();\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'MODEL_LOAD':\n    const newState = new Map();\n    action.payload.trim().split(\"\\n\").forEach(l => {\n      const i = l.indexOf(' ');\n      const key = l.slice(0, i);\n      let value = l.slice(i + 1);\n      if (value) {\n        if (key === 'label' || key === 'nr_sv' || key === 'num_words' || key === 'num_classes' || key === 'total_params') {\n          value = value.split(' ').map(s => parseInt(s, 10));\n        }\n        if (key === 'rho') {\n          value = value.split(' ').map(s => parseFloat(s));\n        }\n        newState.set(key, value);\n      }\n    });\n    return newState;\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'features', url}});\n    fetch(url)\n      .then(response => response.text())\n      .then(data => dispatch({type: 'FEATURES_LOAD', payload: data}))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'features'}}))\n      .catch(err => console.log(err));\n  };\n}\n\n/*\n * The state is a Map of a Map of a two-element Array containing the item id and feature data.\n * Visually, this would look like:\n *\n *     state: Map({\n *       // true class 1\n *       1: Map({\n *         // predicted class 2\n *         2: [\n *           [12, \"foo bar\"],  // item id 12 with features \"foo bar\"\n *           [15, \"bar boo\"],  // item id 15 with features \"bar boo\"\n *         ]\n *       })\n *     })\n */\nconst initialState = new Map();\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'FEATURES_LOAD':\n    const newState = new Map();\n    action.payload.trim().split(\"\\n\").forEach(l => {\n      const parts = l.split(/\\s+/);\n      const id = parts[0];\n      const a = parseInt(parts[1], 10);\n      const b = parseInt(parts[2], 10);\n      if (!newState.has(a)) newState.set(a, new Map());\n      const bmap = newState.get(a);\n      if (!bmap.has(b)) bmap.set(b, new Array());\n      bmap.get(b).push([id, parts.slice(3).join(' ')]);\n    });\n    return newState;\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nexport function sort(key, reverse = null) {\n  return (dispatch) => {\n    dispatch({ type: 'CONFIG_UPDATE_SORT', payload: { key, reverse } });\n    // dispatch({ type: 'CONFUSION_SORT', payload: { key, reverse: !!reverse } });\n  };\n}\n\nexport function setItemUrlTemplate(itemUrlTemplate) {\n  return (dispatch) => {\n    dispatch({ type: 'CONFIG_UPDATE_KEYS', payload: { itemUrlTemplate } });\n  }\n}\n\nconst initialState = {\n  itemUrlTemplate: null,\n  sort: {\n    key: 'recall',\n    reverse: true,\n  },\n};\n\nexport function reducer(state = initialState, action) {\n  const payload = action.payload;\n  switch(action.type) {\n  case 'CONFIG_UPDATE_SORT':\n    const reverse = payload.reverse !== null ? payload.reverse\n                      : (payload.key === state.sort.key) !== state.sort.reverse;\n    return { ...state, sort: { ...payload, reverse } };\n  case 'CONFIG_UPDATE_KEYS':\n    return { ...state, ...payload };\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\nimport thunk from 'redux-thunk'\nimport { reducer as confusion } from './confusion'\nimport { reducer as labels } from './labels'\nimport { reducer as files } from './files'\nimport { reducer as model } from './model'\nimport { reducer as features } from './features'\nimport { reducer as config } from './config'\nimport windowSize, { createRemAction, createSizeAction, listenResize } from 'redux-windowsize'\n\nconst reducer = combineReducers({confusion, labels, files, model, features, config, windowSize});\nconst store = createStore(reducer, applyMiddleware(thunk));\n\n// Update and watch window size\nstore.dispatch(createSizeAction(window));\nstore.dispatch(createRemAction(window));\nlistenResize(store, window, 100);\n\nexport default store;\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Glyphicon, MenuItem, Nav, Navbar, NavDropdown, NavItem } from 'react-bootstrap'\nimport { IndexLinkContainer, LinkContainer } from 'react-router-bootstrap'\nimport './App.css'\n\nconst FILE_DESC = {\n  labels: 'Category labels',\n  confusion: 'Confusion matrix',\n  items: 'Training data',\n  model: 'Model properties',\n  features: 'Training features',\n};\n\nconst FileIcon = ({ status }) => (\n  status === true\n    ? <Glyphicon glyph={'ok'} className='text-success' />\n    : status === false\n    ? <Glyphicon glyph={'remove'} className='text-danger' />\n    : <Glyphicon glyph={'refresh'} className='text-muted spinning' />\n);\n\nclass _FilesMenu extends Component {\n  render() {\n    const { files, title, dispatch, ...props } = this.props;\n    return (\n      <NavDropdown title={<span><FileIcon status={files.status} />{' '}{title}</span>} {...props}>\n        {Object.keys(files.files).map(fileId => {\n          const file = files.files[fileId];\n          return (\n            <MenuItem key={fileId} title={file.url}>\n              <FileIcon status={file.status} />{' '}\n              <span className='FileDesc'>{FILE_DESC[fileId] || <tt>{fileId}</tt>}</span>\n              <span className='FileName'>{file.url && file.url.split('/').reverse()[0]}</span>\n            </MenuItem>\n          );\n        })}\n      </NavDropdown>\n    );\n  }\n}\n\nconst FilesMenu = connect(\n  ({ files }) => ({ files })\n)(_FilesMenu);\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar fluid inverse>\n          <Navbar.Header>\n            <Navbar.Brand>MLC-Eval</Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav>\n              <IndexLinkContainer to={'/'}><NavItem>Summary</NavItem></IndexLinkContainer>\n              <LinkContainer to={'/categories'}><NavItem>Categories</NavItem></LinkContainer>\n              <LinkContainer to={'/confusion-matrix'}><NavItem>Confusion Matrix</NavItem></LinkContainer>\n            </Nav>\n            <Nav pullRight>\n              <NavItem href='https://github.com/q-m/mlc-eval#mlc-eval'>Help</NavItem>\n              <FilesMenu title='Files' id='nav-files-menu' />\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\n\nexport const Pct = ({value, digits}) => (\n  !isNaN(value)\n  ? <span>\n      {(100 * value).toFixed(digits || 0)}\n      <span style={{fontSize: '75%', verticalAlign: 'middle'}}>%</span>\n    </span>\n  : null\n);\nexport const Flt = ({value, digits}) => (\n  !isNaN(value)\n  ? <span>{value.toFixed(digits || 1)}</span>\n  : null\n);\n\n// returns function for rendering the selected statistic\nexport const getStatRenderer = (stat, digitsPct = 0, digitsFlt = 1) => (\n  !stat\n  ? () => null\n  : ['accuracy', 'precision', 'recall'].includes(stat)\n  ? value => Pct({ value, digits: digitsPct })\n  : value => Flt({ value, digits: digitsFlt })\n);\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { Well, Row, Col, Panel, Table } from 'react-bootstrap'\nimport { STAT_LABELS } from '../store/confusion'\nimport { getStatRenderer } from './Stat'\nimport './Summary.css'\n\nclass ModelParams extends PureComponent {\n  render() {\n    const { model } = this.props;\n    let rows = [];\n    model.forEach((value, key) => {\n      if (key === 'label' || key === 'rho' || key === 'nr_sv') return; // skip that one, we want different thing\n      rows.push(\n        <tr key={key}>\n          <th>{key}</th>\n          <td><tt>{value}</tt></td>\n        </tr>\n      );\n    });\n    return (\n      <Table className='ModelParams no-head'>\n        <tbody>{rows}</tbody>\n      </Table>\n    );\n  }\n}\n\nclass CategoryStats extends PureComponent {\n  render() {\n    const { stats: { micro, macro } } = this.props;\n    return (\n      <Table className='CategoryStats no-head'>\n        <tbody>\n          {Object.keys(STAT_LABELS).map(stat => (\n            <tr key={stat}>\n              <th>{STAT_LABELS[stat]}</th>\n              <td>{getStatRenderer(stat, 1, 2)(micro[stat])}</td>\n              <td>{getStatRenderer(stat, 1, 2)(macro[stat])}</td>\n            </tr>\n          ))}\n        </tbody>\n        <tfoot>\n          <tr><td></td><th>micro avg.</th><th>macro avg.</th></tr>\n        </tfoot>\n      </Table>\n    );\n  }\n}\n\nconst Qm = ({dot}) => (<span className='spinning text-muted inline-block'>{dot ? '...' : '?'}</span>);\n\nclass Summary extends PureComponent {\n  render() {\n    const { confusion, labels, files, model } = this.props;\n    const usedLabels = confusion.classes.length;\n    const totalLabels = labels.size;\n    return (\n      <div className='Summary container'>\n        <Well>\n          <h2>Classification evaluation <small>summary</small></h2>\n          <p>\n            You have trained with <b>{confusion.count || <Qm />}</b> samples\n            in <b>{usedLabels}</b> categories\n            {totalLabels && <span> (out of <b>{totalLabels}</b> defined)</span>}.\n          </p>\n        </Well>\n        <Row>\n          <Col sm={4}>\n            <Panel>\n              <Panel.Heading><h4>Model parameters</h4></Panel.Heading>\n              <Panel.Body>\n                {model.size > 0\n                  ? <ModelParams model={model} />\n                  : files.files.model\n                  ? <em className='text-muted'>Loading model <Qm dot /></em>\n                  : <em className='text-muted'>Please load a model.</em>}\n              </Panel.Body>\n            </Panel>\n          </Col>\n          <Col sm={4}>\n            <Panel>\n              <Panel.Heading><h4>Statistics</h4></Panel.Heading>\n              <Panel.Body>\n                {confusion.count\n                  ? <CategoryStats stats={confusion.stats} />\n                  : files.files.confusion\n                  ? <em className='text-muted'>Loading confusion matrix <Qm dot /></em>\n                  : <em className='text-muted'>Please load a confusion matrix.</em>}\n              </Panel.Body>\n            </Panel>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ model, confusion, labels, files }) => ({ model, confusion, labels, files })\n)(Summary);\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { Badge, Button, Row, Col, DropdownButton, Glyphicon, ListGroup, ListGroupItem, MenuItem, Panel } from 'react-bootstrap'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport AutoSizer from 'react-virtualized/dist/commonjs/AutoSizer'\nimport List from 'react-virtualized/dist/commonjs/List'\nimport { sort as configSort } from '../store/config'\nimport { STAT_LABELS } from '../store/confusion'\nimport { getStatRenderer } from './Stat'\nimport './Categories.css'\n\nclass _CategoryItem extends PureComponent {\n  render() {\n    const { id, stat, count, labels } = this.props;\n    return (\n      <div>\n        {labels.get(id) || id}\n        <Badge style={stat ? {marginRight: '3.5em'} :null}>{count}</Badge>\n        <Badge className='alert-info'>{stat}</Badge>\n      </div>\n    );\n  }\n}\nconst CategoryItem = connect(({ labels }) => {\n  return { labels };\n})(_CategoryItem);\n\nclass _CategoryList extends PureComponent {\n  render() {\n    const { id, header, confusion, getClasses, href, sort, containerHeight, dispatch } = this.props;\n    const stat = sort.key;\n    const renderStat = getStatRenderer(stat);\n    const { classes, getCount } = getClasses(confusion, sort, id);\n    return (\n      <Panel>\n        <Panel.Heading>{header}</Panel.Heading>\n        <ListGroup className='CategoryList' style={{height: containerHeight - 92}}>\n          <AutoSizer>{({width, height}) => (\n            <List height={height} width={width} rowHeight={41}\n                  rowCount={classes.length} rowRenderer={function ({index, key, style}) {\n              const c = classes[index];\n              return (\n                <LinkContainer key={key} to={href(c.label)} style={style}>\n                  <ListGroupItem bsStyle={id ? (id === c.label ? 'success' : 'warning') : null} style={{height: 41}}>\n                    <CategoryItem id={c.label} count={getCount(c)} stat={renderStat(c[stat])} scope={id} />\n                  </ListGroupItem>\n                </LinkContainer>\n              );\n            }} />\n          )}</AutoSizer>\n        </ListGroup>\n      </Panel>\n    );\n  }\n}\n\nfunction getClassesMain(confusion, sort, id) {\n  const getCount = c => c.tp + c.fn;\n  const classes = confusion.classes.slice().sort((a,b) => (sort.reverse ? -1 : 1) * (a[sort.key] - b[sort.key]));\n  return { classes, getCount };\n}\nconst MainCategoryList = connect(({ confusion, config: { sort }, windowSize: { height } }) => {\n  return { confusion, getClasses: getClassesMain, sort, containerHeight: height };\n})(_CategoryList);\n\nfunction getClassesSecondary(confusion, sort, id) {\n  const cls = confusion.classes.find(l => l.label === id) || {};\n  const row = confusion.matrix[cls.idx] || [];\n  const getCount = c => row[c.idx];\n  const classes = confusion.classes.filter((c,i) => row[i] > 0).sort((a,b) => (-1 * (row[a.idx] - row[b.idx])));\n  return { classes, getCount };\n}\nconst SecondaryCategoryList = connect(({ labels, confusion, config: { sort }, windowSize: {height} }) => {\n  return { labels, confusion, getClasses: getClassesSecondary, sort, containerHeight: height };\n})(_CategoryList);\n\nclass Categories extends PureComponent {\n  render() {\n    const { sort, dispatch, match: { params: { ctrue, cpred } }, itemUrlTemplate } = this.props;\n    return (\n      <Row className='Categories'>\n        <Col sm={4} md={3}>\n          <MainCategoryList\n            header={\n              <div>\n                <div className='pull-right'>\n                  <DropdownButton id='sort' bsStyle='info' bsSize='xsmall' title={STAT_LABELS[sort.key]} pullRight>\n                    {Object.keys(STAT_LABELS).map(stat => (\n                      <MenuItem key={stat} onClick={() => dispatch(configSort(stat))}>{STAT_LABELS[stat]}</MenuItem>\n                    ))}\n                  </DropdownButton>\n                </div>\n                Actual\n              </div>\n            }\n            href={(id) => `/categories/${id}`} />\n        </Col>\n        <Col sm={4} md={3}>\n          {ctrue &&\n            <SecondaryCategoryList id={parseInt(ctrue, 10)}\n              header='Predicted'\n              href={(id) => `/categories/${ctrue}/${id}`} />}\n        </Col>\n        <Col sm={4} md={6}>\n          {ctrue && cpred &&\n            <CategoryTokens\n              itemUrlTemplate={itemUrlTemplate}\n              ctrue={parseInt(ctrue, 10)} cpred={parseInt(cpred, 10)} />}\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default connect(\n  ({ config: { sort, itemUrlTemplate }}) => ({ sort, itemUrlTemplate })\n)(Categories);\n\nclass _CategoryTokens extends PureComponent {\n  render() {\n    const { containerHeight, features, ctrue, cpred, itemUrlTemplate } = this.props;\n    const cat_tokens = (features.get(ctrue) || new Map()).get(cpred) || [];\n    return (\n      <Panel>\n        <Panel.Heading>Training features</Panel.Heading>\n        <ListGroup className='CategoryListFeatures' style={{maxHeight: containerHeight - 92}}>\n          {cat_tokens.map((c,i) => (\n            <ListGroupItem key={i}>\n              {itemUrlTemplate && [\n                <a href={itemUrlTemplate.replace(':id', c[0])} style={{fontSize: '75%'}}>\n                  <Glyphicon glyph='new-window' />\n                </a>, ' ']}\n              {c[1]}\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Panel>\n    );\n  }\n}\nconst CategoryTokens = connect(\n  ({ features, windowSize: { height } }) => ({ features, containerHeight: height })\n)(_CategoryTokens);\n","// @see https://github.com/vaiRk/responsive-fixed-data-table/blob/master/src/responsive-fixed-data-table.js\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport { Table } from 'fixed-data-table-2';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\n\nconst initialPixels = 1;\n\nexport default class ResponsiveFixedDataTable extends React.Component {\n\tstatic propTypes = {\n\t\tcontainerStyle: PropTypes.object,\n\t\trefreshRate: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tcontainerStyle: {},\n\t\trefreshRate: 250 // ms\n\t};\n\n\tstate = {\n\t\tgridWidth: initialPixels,\n\t\tgridHeight: initialPixels\n\t};\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn !isEqual(this.props, nextProps) || !isEqual(this.state, nextState);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.__isMounted = true;\n\t\tthis._setDimensionsOnState();\n\t\tthis._attachResizeEvent();\n\t}\n\n\tcomponentWillMount() {\n\t\tconst { refreshRate } = this.props;\n\t\tthis._setDimensionsOnState = debounce(this._setDimensionsOnState, refreshRate);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.__isMounted = false;\n\t\twindow.removeEventListener('resize', this._setDimensionsOnState);\n\t}\n\n\t_attachResizeEvent() {\n\t\tif (window.addEventListener) {\n\t\t\twindow.addEventListener('resize', this._setDimensionsOnState, false);\n\t\t} else if (window.attachEvent) {\n\t\t\twindow.attachEvent('resize', this._setDimensionsOnState);\n\t\t} else {\n\t\t\twindow.onresize = this._setDimensionsOnState;\n\t\t}\n\t}\n\n\t_setDimensionsOnState = () => {\n\t\tif (this.__isMounted) {\n\t\t\tconst { offsetWidth, offsetHeight } = findDOMNode(this);\n\n\t\t\tthis.setState({\n\t\t\t\tgridWidth: offsetWidth || initialPixels,\n\t\t\t\tgridHeight: offsetHeight || initialPixels\n\t\t\t});\n\t\t}\n\t}\n\n\t_getStyle() {\n\t\treturn {\n\t\t\t...this.props.containerStyle,\n\t\t\twidth: '100%',\n\t\t\theight: '100%'\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { gridWidth, gridHeight } = this.state;\n\n\t\treturn (\n\t\t\t<div style={this._getStyle()}>\n\t\t\t\t<Table ref='table' {...this.props} width={gridWidth} height={gridHeight} />\n\t\t\t</div>\n\t\t);\n\t}\n};\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Column, Cell } from 'fixed-data-table-2';\nimport Table from './ResponsiveFixedDataTable';\nimport 'fixed-data-table-2/dist/fixed-data-table.css'\nimport './Confusion.css'\n\nconst MatrixCell = ({count, sum, self, ...props}) => {\n  const cls = (\n    !(count > 0) ? 'text-muted' :\n    self ? 'bg-success' :\n    count > sum*0.75 ? 'bg-danger' : 'bg-warning'\n  );\n  return (<Cell {...props} className={cls}>{count}</Cell>);\n};\n\nconst _TitleCell = ({cls, labels, dispatch, ...props}) => {\n  const label = labels.get(cls.label) || cls.label;\n  return (<Cell {...props} style={{textAlign: 'left'}}>{label}</Cell>);\n};\nconst TitleCell = connect(\n  ({ labels }) => ({ labels })\n)(_TitleCell);\n\nclass Confusion extends Component {\n\n  render() {\n    const { confusion: { count, matrix, classes } } = this.props;\n\n    return (\n      <div className='Confusion'>\n        <Table\n          rowHeight={30}\n          headerHeight={30}\n          footerHeight={30}\n          rowsCount={classes.length}>\n          <Column\n            align='left'\n            fixed={true}\n            width={150}\n            allowCellsRecycling={true}\n            header={<Cell>▾ actual | predicted ▸</Cell>}\n            cell={({rowIndex, ...props}) => (\n              <TitleCell cls={classes[rowIndex]} />\n            )}\n            footer={<Cell><b>Σ</b></Cell>}\n            />\n          {classes.map((cls,i) => (\n            <Column\n              align='center'\n              key={cls.label}\n              width={35}\n              allowCellsRecycling={true}\n              header={<TitleCell cls={cls} />}\n              cell={({rowIndex, ...props}) => (\n                <MatrixCell {...props} count={matrix[rowIndex][i]} self={rowIndex === i} sum={cls.tp + cls.fn} />\n              )}\n              footer={({...props}) => (\n                <Cell {...props}>{cls.tp + cls.fp}</Cell>\n              )}\n              />\n          ))}\n          <Column\n            align='center'\n            fixed={true}\n            width={50}\n            header={<Cell>Σ</Cell>}\n            allowCellsRecycling={true}\n            cell={({rowIndex, ...props}) => (\n              <Cell {...props}>{classes[rowIndex].tp + classes[rowIndex].fn}</Cell>\n            )}\n            footer={({...props}) => (\n              <Cell {...props}>{count}</Cell>\n            )}\n            />\n          <Column width={15 /* to avoid scrollbar overlapping numbers */} />\n        </Table>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ confusion }) => ({ confusion })\n)(Confusion);\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { parse } from 'qs'\n\nimport { Provider } from 'react-redux'\nimport store from './store/index'\nimport { load as loadConfusion } from './store/confusion'\nimport { load as loadLabels } from './store/labels'\nimport { load as loadModel } from './store/model'\nimport { load as loadFeatures } from './store/features'\nimport { setItemUrlTemplate } from './store/config'\n\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport App from './components/App'\nimport Summary from './components/Summary'\nimport Categories from './components/Categories'\nimport Confusion from './components/Confusion'\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap/dist/css/bootstrap-theme.css'\nimport './index.css'\n\n// load initial data\n// @todo move to more appropriate location\nfunction loadDefault() {\n  const qs = parse(window.location.search && window.location.search.slice(1));\n  const baseUrl = qs.baseUrl || (process.env.PUBLIC_URL || '') + '/example/iris';\n\n  const itemUrlTemplate = qs.itemUrlTemplate;\n  store.dispatch(setItemUrlTemplate(itemUrlTemplate));\n\n  store.dispatch(loadConfusion(baseUrl + '.cm'));\n  store.dispatch(loadLabels(baseUrl + '.labels'));\n  store.dispatch(loadModel(baseUrl + '.model'));\n  store.dispatch(loadFeatures(baseUrl + '.features'));\n}\nloadDefault();\n\n\nReactDOM.render((\n  <Provider store={store}>\n    <Router>\n      <App>\n        <Route path='/' exact component={Summary} />\n        <Route path='/categories/:ctrue?/:cpred?' component={Categories} />\n        <Route path='/confusion-matrix' component={Confusion} />\n      </App>\n    </Router>\n  </Provider>),\n  document.getElementById('root')\n);\n"],"sourceRoot":""}