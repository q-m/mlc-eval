{"version":3,"sources":["store/confusion.js","store/labels.js","store/files.js","store/model.js","store/features.js","store/config.js","store/index.js","components/App.js","components/Stat.js","components/Summary.js","components/Categories.js","components/ResponsiveFixedDataTable.js","components/Confusion.js","index.js"],"names":["initialState","count","matrix","classes","stats","micro","macro","STAT_LABELS","recall","precision","accuracy","f1","mcc","computeDerivedStats","_ref","tp","fn","fp","tn","Math","sqrt","reducer","state","arguments","length","undefined","action","type","fullMatrix","payload","trim","split","map","l","s","parseInt","slice","a","_ref2","labels","actual","predicted","label","i","p","n","Object","objectSpread","idx","computeClassStats","_ref3","r","forEach","c","keys","stat","computeMacroStats","_ref4","computeMicroStats","Map","newState","indexOf","id","name","set","status","files","files1","defineProperty","url","files2","values","f","includes","combineStatus","files3","key","value","parseFloat","parts","b","has","bmap","get","Array","push","join","sort","reverse","combineReducers","confusion","model","features","config","windowSize","store","createStore","applyMiddleware","thunk","dispatch","createSizeAction","window","createRemAction","listenResize","FILE_DESC","items","FileIcon","react_default","createElement","Glyphicon","glyph","className","_FilesMenu","_this$props","this","props","title","objectWithoutProperties","NavDropdown","assign","App_FileIcon","fileId","file","MenuItem","Component","FilesMenu","connect","App","Navbar","fluid","inverse","Header","Brand","Toggle","Collapse","Nav","react_router_bootstrap_lib","to","NavItem","pullRight","href","children","getStatRenderer","digitsPct","digitsFlt","digits","isNaN","toFixed","style","fontSize","verticalAlign","Pct","Flt","ModelParams","rows","Table","PureComponent","CategoryStats","_this$props$stats","Qm","dot","Summary","usedLabels","totalLabels","size","Well","Summary_Qm","Row","Col","sm","Panel","Heading","Body","Summary_ModelParams","Summary_CategoryStats","_CategoryItem","Badge","marginRight","CategoryItem","_CategoryList","_this$props2","header","getClasses","containerHeight","renderStat","_getClasses","getCount","ListGroup","maxHeight","ListGroupItem","bsStyle","scope","getClassesMain","MainCategoryList","height","getClassesSecondary","cls","find","row","filter","SecondaryCategoryList","Categories","_this$props3","_this$props3$match$pa","match","params","ctrue","cpred","md","DropdownButton","bsSize","onClick","configSort","concat","CategoryTokens","_CategoryTokens","_this$props4","cat_tokens","_ref5","initialPixels","ResponsiveFixedDataTable","gridWidth","gridHeight","_setDimensionsOnState","_this","__isMounted","_findDOMNode","findDOMNode","assertThisInitialized","offsetWidth","offsetHeight","setState","nextProps","nextState","isEqual","_attachResizeEvent","refreshRate","debounce","removeEventListener","addEventListener","attachEvent","onresize","containerStyle","width","_this$state","_getStyle","main","ref","React","defaultProps","MatrixCell","sum","self","TitleCell","textAlign","Confusion","_this$props$confusion","ResponsiveFixedDataTable_ResponsiveFixedDataTable","rowHeight","headerHeight","footerHeight","rowsCount","align","fixed","allowCellsRecycling","cell","rowIndex","footer","Confusion_MatrixCell","_ref6","esm_extends","_ref7","_ref8","_ref9","baseUrl","location","search","startsWith","decodeURIComponent","fetch","then","response","text","data","catch","err","console","log","loadLabels","headers","Range","loadModel","loadFeatures","loadDefault","ReactDOM","render","es","HashRouter","src_components_App","Route","path","exact","component","document","getElementById"],"mappings":"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","file":"static/js/main.586b4fca.chunk.js","sourcesContent":["\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'confusion', url}});\n    fetch(url)\n      .then(response => response.text())\n      .then(data => dispatch({type: 'CONFUSION_LOAD', payload: data}))\n      // .then(data => dispatch(sort('recall')))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'confusion'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nexport function sort(key, reverse = true) {\n  return {type: 'CONFUSION_SORT', payload: {key, reverse: !!reverse}};\n}\n\nconst initialState = {\n  count: null,      // number of items\n  matrix: [],       // confusion matrix contents (without headers or sums)\n  classes: [],      // class labels and stats in matrix order (x- and y-axis) (array of objects)\n  stats: {\n    micro: {},      // micro-averaged statistics for all classes\n    macro: {},      // macro-averaged statistics for all classes\n  },\n};\n\nexport const STAT_LABELS = {\n  recall:    'Recall',\n  precision: 'Precision',\n  accuracy:  'Accuracy',\n  f1:        'F1-score',\n  mcc:       'MCC-score',\n};\n\n// @see https://en.wikipedia.org/wiki/Confusion_matrix\n// @see http://chrisalbon.com/machine-learning/precision_recall_and_F1_scores.html\nfunction computeDerivedStats({ tp, fn, fp, tn }) {\n    const accuracy  = 1.0 * (tp + tn) / (tp + fn + fp + tn);\n    const precision = 1.0 * tp / (tp + fp) || 0;\n    const recall    = 1.0 * tp / (tp + fn) || 0;\n    const f1        = 2.0 * tp / (2 * tp + fp + fn);\n    const mcc       = (tp * tn - fp * fn) / Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn)) || 0;\n    return { accuracy, precision, recall, f1, mcc };\n}\n\nfunction computeClassStats({ count, matrix, labels, actual, predicted }) {\n  return labels.map((label, i) => {\n    const p   = actual[i];          // positive observations\n    const n   = count - p;          // negative observations\n    const tp  = matrix[i][i];       // positive observations with positive predictions\n    const fn  = p - tp;             // positive observations with negative predictions\n    const fp  = predicted[i] - tp;  // negative observations with positive predictions\n    const tn  = n - fp;             // negative observations with negative predictions\n    return {\n      idx: i, label,\n      tp, fp, tn, fn,\n      ...computeDerivedStats({ tp, fp, tn, fn })\n    };\n  });\n}\n\n// compute macro-averaged statistics\n// @see http://rali.iro.umontreal.ca/rali/sites/default/files/publis/sokolovalapalme-jipm09.pdf\nfunction computeMacroStats({ count, classes }) {\n  const r = { accuracy: 0, precision: 0, recall: 0, f1: 0, mcc: 0 };\n  classes.forEach(c => {\n    Object.keys(r).forEach(stat => r[stat] += c[stat]);\n  });\n  Object.keys(r).forEach(stat => r[stat] /= classes.length);\n  return r;\n}\n\n// compute micro-averaged statistics\nfunction computeMicroStats({ count, classes }) {\n  const s = { tp: 0, fn: 0, fp: 0, tn: 0};\n  classes.forEach(c => {\n    Object.keys(s).forEach(stat => s[stat] += c[stat]);\n  });\n  return { ...s, ...computeDerivedStats(s) };\n}\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'CONFUSION_LOAD': {\n    // read full matrix\n    const fullMatrix = action.payload.trim().split(\"\\n\").map(l => l.split(' ').map(s => parseInt(s, 10)));\n    // decompose into basic components\n    const count = fullMatrix.slice(-1)[0].slice(-1)[0];\n    const matrix = fullMatrix.slice(1, -1).map(a => a.slice(1, -1));\n    const labels = fullMatrix[0].slice(1, -1);\n    // compute statistics\n    const actual = fullMatrix.slice(1, -1).map(a => a.slice(-1)[0]);\n    const predicted = fullMatrix.slice(-1)[0].slice(1, -1);\n    const classes = computeClassStats({ count, matrix, labels, actual, predicted });\n    const macro = computeMacroStats({ count, classes });\n    const micro = computeMicroStats({ count, classes });\n    // we have everything now :)\n    return { count, matrix, classes, stats: { micro, macro } };\n  }\n  /*\n  case 'CONFUSION_SORT': {\n    // @todo fix this, indices are mixed up somehow\n    // first create sorted array with position and sort-value\n    const { key, reverse } = action.payload;\n    const sortmul = reverse ? -1 : 1;\n    const mapping = state.classes.map((c,i) => ({ i, v: c[key] }));\n    mapping.sort((a,b) => (a.v - b.v) * sortmul);\n    // then sort labels and matrix\n    const classes = mapping.map(m => ({ ...state.classes[m.i], idx: m.i }));\n    const matrix = mapping.map(m => {\n      const row = state.matrix[m.i];\n      return mapping.map(n => row[n.i]);\n    });\n    return { ...state, matrix, classes };\n  }\n  */\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'labels', url}});\n    fetch(url)\n      .then(response => response.text())\n      .then(data => dispatch({type: 'LABELS_LOAD', payload: data}))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'labels'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nconst initialState = new Map();\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'LABELS_LOAD':\n    const newState = new Map();\n    action.payload.trim().split(\"\\n\").forEach(l => {\n      const i = l.indexOf(' ');\n      const id = parseInt(l.slice(0, i), 10);\n      const name = l.slice(i + 1).trim();\n      newState.set(id, name);\n    });\n    return newState;\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nconst initialState = {\n  status: false,\n  files: {},\n};\n\nfunction combineStatus(files) {\n  const values = Object.values(files).map(f => f.status);\n  if (values.includes(false)) return false;\n  if (values.length === 0 || values.includes(null)) return null;\n  return true;\n}\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'FILE_LOADING':\n    const files1 = { ...state.files, [action.payload.id]: {status: null, url: action.payload.url} };\n    return { ...state, status: null, files: files1 };\n  case 'FILE_LOADED':\n    const files2 = { ...state.files, [action.payload.id]: {...state.files[action.payload.id], status: true} };\n    return { ...state, status: combineStatus(files2), files: files2 };\n  case 'FILE_FAILED':\n    const files3 = { ...state.files, [action.payload.id]: {...state.files[action.payload.id], status: false} };\n    return { ...state, status: false, files: files3 };\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\n// we're only interested in the model header, the rest may be too large to use\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'model', url}});\n    fetch(url, {headers: {'Range': 'bytes=0-10000'}})\n      .then(response => response.text())\n      .then(data => {\n        let idx = data.indexOf('\\nw\\n');\n        if (idx < 0) idx = data.indexOf('\\nSV\\n');\n        return data.slice(0, idx);\n      })\n      // streaming interface not widely supported yet\n      /* .then(response => {\n        const reader = response.body.getReader();\n        const decoder = new TextDecoder();\n        let data = '';\n        return reader.read().then(function processResult(result) {\n          if (result.done) return;\n          data += decoder.decode(result.value, {stream: true});\n          // only keep the part before 'w' or 'SV' on a line by itself\n          let idx = data.indexOf('\\nw\\n');\n          if (idx < 0) idx = data.indexOf('\\nSV\\n');\n          if (idx >= 0) {\n            reader.cancel();\n            return data.slice(0, idx);\n          }\n          // next chunk\n          return reader.read().then(processResult);\n        });\n      }) */\n      .then(data => dispatch({type: 'MODEL_LOAD', payload: data}))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'model'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nconst initialState = new Map();\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'MODEL_LOAD':\n    const newState = new Map();\n    action.payload.trim().split(\"\\n\").forEach(l => {\n      const i = l.indexOf(' ');\n      const key = l.slice(0, i);\n      let value = l.slice(i + 1);\n      if (value) {\n        if (key === 'label' || key === 'nr_sv' || key === 'num_words' || key === 'num_classes' || key === 'total_params') {\n          value = value.split(' ').map(s => parseInt(s, 10));\n        }\n        if (key === 'rho') {\n          value = value.split(' ').map(s => parseFloat(s));\n        }\n        newState.set(key, value);\n      }\n    });\n    return newState;\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'features', url}});\n    fetch(url)\n      .then(response => response.text())\n      .then(data => dispatch({type: 'FEATURES_LOAD', payload: data}))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'features'}}))\n      .catch(err => console.log(err));\n  };\n}\n\n/*\n * The state is a Map of a Map of a two-element Array containing the item id and feature data.\n * Visually, this would look like:\n *\n *     state: Map({\n *       // true class 1\n *       1: Map({\n *         // predicted class 2\n *         2: [\n *           [12, \"foo bar\"],  // item id 12 with features \"foo bar\"\n *           [15, \"bar boo\"],  // item id 15 with features \"bar boo\"\n *         ]\n *       })\n *     })\n */\nconst initialState = new Map();\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'FEATURES_LOAD':\n    const newState = new Map();\n    action.payload.trim().split(\"\\n\").forEach(l => {\n      const parts = l.split(/\\s+/);\n      const id = parts[0];\n      const a = parseInt(parts[1], 10);\n      const b = parseInt(parts[2], 10);\n      if (!newState.has(a)) newState.set(a, new Map());\n      const bmap = newState.get(a);\n      if (!bmap.has(b)) bmap.set(b, new Array());\n      bmap.get(b).push([id, parts.slice(3).join(' ')]);\n    });\n    return newState;\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nexport function sort(key, reverse = null) {\n  return (dispatch) => {\n    dispatch({ type: 'CONFIG_UPDATE_SORT', payload: { key, reverse } });\n    // dispatch({ type: 'CONFUSION_SORT', payload: { key, reverse: !!reverse } });\n  };\n}\n\nconst initialState = {\n  sort: {\n    key: 'recall',\n    reverse: true,\n  },\n};\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'CONFIG_UPDATE_SORT':\n    const payload = action.payload;\n    const reverse = payload.reverse !== null ? payload.reverse\n                      : (payload.key === state.sort.key) !== state.sort.reverse;\n    return { ...state, sort: { ...payload, reverse } };\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\nimport thunk from 'redux-thunk'\nimport { reducer as confusion } from './confusion'\nimport { reducer as labels } from './labels'\nimport { reducer as files } from './files'\nimport { reducer as model } from './model'\nimport { reducer as features } from './features'\nimport { reducer as config } from './config'\nimport windowSize, { createRemAction, createSizeAction, listenResize } from 'redux-windowsize'\n\nconst reducer = combineReducers({confusion, labels, files, model, features, config, windowSize});\nconst store = createStore(reducer, applyMiddleware(thunk));\n\n// Update and watch window size\nstore.dispatch(createSizeAction(window));\nstore.dispatch(createRemAction(window));\nlistenResize(store, window, 100);\n\nexport default store;\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Glyphicon, MenuItem, Nav, Navbar, NavDropdown, NavItem } from 'react-bootstrap'\nimport { IndexLinkContainer, LinkContainer } from 'react-router-bootstrap'\nimport './App.css'\n\nconst FILE_DESC = {\n  labels: 'Category labels',\n  confusion: 'Confusion matrix',\n  items: 'Training data',\n  model: 'Model properties',\n  features: 'Training features',\n};\n\nconst FileIcon = ({ status }) => (\n  status === true\n    ? <Glyphicon glyph={'ok'} className='text-success' />\n    : status === false\n    ? <Glyphicon glyph={'remove'} className='text-danger' />\n    : <Glyphicon glyph={'refresh'} className='text-muted spinning' />\n);\n\nclass _FilesMenu extends Component {\n  render() {\n    const { files, title, dispatch, ...props } = this.props;\n    return (\n      <NavDropdown title={<span><FileIcon status={files.status} />{' '}{title}</span>} {...props}>\n        {Object.keys(files.files).map(fileId => {\n          const file = files.files[fileId];\n          return (\n            <MenuItem key={fileId} title={file.url}>\n              <FileIcon status={file.status} />{' '}\n              <span className='FileDesc'>{FILE_DESC[fileId] || <tt>{fileId}</tt>}</span>\n              <span className='FileName'>{file.url && file.url.split('/').reverse()[0]}</span>\n            </MenuItem>\n          );\n        })}\n      </NavDropdown>\n    );\n  }\n}\n\nconst FilesMenu = connect(\n  ({ files }) => ({ files })\n)(_FilesMenu);\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar fluid inverse>\n          <Navbar.Header>\n            <Navbar.Brand>MLC-Eval</Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav>\n              <IndexLinkContainer to={'/'}><NavItem>Summary</NavItem></IndexLinkContainer>\n              <LinkContainer to={'/categories'}><NavItem>Categories</NavItem></LinkContainer>\n              <LinkContainer to={'/confusion-matrix'}><NavItem>Confusion Matrix</NavItem></LinkContainer>\n            </Nav>\n            <Nav pullRight>\n              <NavItem href='https://github.com/q-m/mlc-eval#mlc-eval'>Help</NavItem>\n              <FilesMenu title='Files' id='nav-files-menu' />\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\n\nexport const Pct = ({value, digits}) => (\n  !isNaN(value)\n  ? <span>\n      {(100 * value).toFixed(digits || 0)}\n      <span style={{fontSize: '75%', verticalAlign: 'middle'}}>%</span>\n    </span>\n  : null\n);\nexport const Flt = ({value, digits}) => (\n  !isNaN(value)\n  ? <span>{value.toFixed(digits || 1)}</span>\n  : null\n);\n\n// returns function for rendering the selected statistic\nexport const getStatRenderer = (stat, digitsPct = 0, digitsFlt = 1) => (\n  !stat\n  ? () => null\n  : ['accuracy', 'precision', 'recall'].includes(stat)\n  ? value => Pct({ value, digits: digitsPct })\n  : value => Flt({ value, digits: digitsFlt })\n);\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { Well, Row, Col, Panel, Table } from 'react-bootstrap'\nimport { STAT_LABELS } from '../store/confusion'\nimport { getStatRenderer } from './Stat'\nimport './Summary.css'\n\nclass ModelParams extends PureComponent {\n  render() {\n    const { model } = this.props;\n    let rows = [];\n    model.forEach((value, key) => {\n      if (key === 'label' || key === 'rho' || key === 'nr_sv') return; // skip that one, we want different thing\n      rows.push(\n        <tr key={key}>\n          <th>{key}</th>\n          <td><tt>{value}</tt></td>\n        </tr>\n      );\n    });\n    return (\n      <Table className='ModelParams no-head'>\n        <tbody>{rows}</tbody>\n      </Table>\n    );\n  }\n}\n\nclass CategoryStats extends PureComponent {\n  render() {\n    const { stats: { micro, macro } } = this.props;\n    return (\n      <Table className='CategoryStats no-head'>\n        <tbody>\n          {Object.keys(STAT_LABELS).map(stat => (\n            <tr key={stat}>\n              <th>{STAT_LABELS[stat]}</th>\n              <td>{getStatRenderer(stat, 1, 2)(micro[stat])}</td>\n              <td>{getStatRenderer(stat, 1, 2)(macro[stat])}</td>\n            </tr>\n          ))}\n        </tbody>\n        <tfoot>\n          <tr><td></td><th>micro avg.</th><th>macro avg.</th></tr>\n        </tfoot>\n      </Table>\n    );\n  }\n}\n\nconst Qm = ({dot}) => (<span className='spinning text-muted inline-block'>{dot ? '...' : '?'}</span>);\n\nclass Summary extends PureComponent {\n  render() {\n    const { confusion, labels, files, model } = this.props;\n    const usedLabels = confusion.classes.length;\n    const totalLabels = labels.size;\n    return (\n      <div className='Summary container'>\n        <Well>\n          <h2>Classification evaluation <small>summary</small></h2>\n          <p>\n            You have trained with <b>{confusion.count || <Qm />}</b> samples\n            in <b>{usedLabels}</b> categories\n            {totalLabels && <span> (out of <b>{totalLabels}</b> defined)</span>}.\n          </p>\n        </Well>\n        <Row>\n          <Col sm={4}>\n            <Panel>\n              <Panel.Heading><h4>Model parameters</h4></Panel.Heading>\n              <Panel.Body>\n                {model.size > 0\n                  ? <ModelParams model={model} />\n                  : files.files.model\n                  ? <em className='text-muted'>Loading model <Qm dot /></em>\n                  : <em className='text-muted'>Please load a model.</em>}\n              </Panel.Body>\n            </Panel>\n          </Col>\n          <Col sm={4}>\n            <Panel>\n              <Panel.Heading><h4>Statistics</h4></Panel.Heading>\n              <Panel.Body>\n                {confusion.count\n                  ? <CategoryStats stats={confusion.stats} />\n                  : files.files.confusion\n                  ? <em className='text-muted'>Loading confusion matrix <Qm dot /></em>\n                  : <em className='text-muted'>Please load a confusion matrix.</em>}\n              </Panel.Body>\n            </Panel>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ model, confusion, labels, files }) => ({ model, confusion, labels, files })\n)(Summary);\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { Badge, Row, Col, DropdownButton, ListGroup, ListGroupItem, MenuItem, Panel } from 'react-bootstrap'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { sort as configSort } from '../store/config'\nimport { STAT_LABELS } from '../store/confusion'\nimport { getStatRenderer } from './Stat'\nimport './Categories.css'\n\nclass _CategoryItem extends PureComponent {\n  render() {\n    const { id, stat, count, labels } = this.props;\n    return (\n      <div>\n        {labels.get(id) || id}\n        <Badge style={stat ? {marginRight: '3.5em'} :null}>{count}</Badge>\n        <Badge className='alert-info'>{stat}</Badge>\n      </div>\n    );\n  }\n}\nconst CategoryItem = connect(({ labels }) => {\n  return { labels };\n})(_CategoryItem);\n\nclass _CategoryList extends PureComponent {\n  render() {\n    const { id, header, confusion, getClasses, href, sort, containerHeight, dispatch } = this.props;\n    const stat = sort.key;\n    const renderStat = getStatRenderer(stat);\n    const { classes, getCount } = getClasses(confusion, sort, id);\n    return (\n      <Panel>\n        <Panel.Heading>{header}</Panel.Heading>\n        <ListGroup className='CategoryList' style={{maxHeight: containerHeight - 92}}>\n          {classes.map(c => (\n            <LinkContainer key={c.label} to={href(c.label)}>\n              <ListGroupItem bsStyle={id ? (id === c.label ? 'success' : 'warning') : null}>\n                <CategoryItem id={c.label} count={getCount(c)} stat={renderStat(c[stat])} scope={id} />\n              </ListGroupItem>\n            </LinkContainer>\n          ))}\n        </ListGroup>\n      </Panel>\n    );\n  }\n}\n\nfunction getClassesMain(confusion, sort, id) {\n  const getCount = c => c.tp + c.fn;\n  const classes = confusion.classes.slice().sort((a,b) => (sort.reverse ? -1 : 1) * (a[sort.key] - b[sort.key]));\n  return { classes, getCount };\n}\nconst MainCategoryList = connect(({ confusion, config: { sort }, windowSize: { height } }) => {\n  return { confusion, getClasses: getClassesMain, sort, containerHeight: height };\n})(_CategoryList);\n\nfunction getClassesSecondary(confusion, sort, id) {\n  const cls = confusion.classes.find(l => l.label === id) || {};\n  const row = confusion.matrix[cls.idx] || [];\n  const getCount = c => row[c.idx];\n  const classes = confusion.classes.filter((c,i) => row[i] > 0).sort((a,b) => (-1 * (row[a.idx] - row[b.idx])));\n  return { classes, getCount };\n}\nconst SecondaryCategoryList = connect(({ labels, confusion, config: { sort }, windowSize: {height} }) => {\n  return { labels, confusion, getClasses: getClassesSecondary, sort, containerHeight: height };\n})(_CategoryList);\n\nclass Categories extends PureComponent {\n  render() {\n    const { sort, dispatch, match: { params: { ctrue, cpred } } } = this.props;\n    return (\n      <Row className='Categories'>\n        <Col sm={6} md={3}>\n          <MainCategoryList\n            header={\n              <div>\n                <div className='pull-right'>\n                  <DropdownButton id='sort' bsStyle='info' bsSize='xsmall' title={STAT_LABELS[sort.key]} pullRight>\n                    {Object.keys(STAT_LABELS).map(stat => (\n                      <MenuItem key={stat} onClick={() => dispatch(configSort(stat))}>{STAT_LABELS[stat]}</MenuItem>\n                    ))}\n                  </DropdownButton>\n                </div>\n                Actual\n              </div>\n            }\n            href={(id) => `/categories/${id}`} />\n        </Col>\n        <Col sm={6} md={3}>\n          {ctrue &&\n            <SecondaryCategoryList id={parseInt(ctrue, 10)}\n              header='Predicted'\n              href={(id) => `/categories/${ctrue}/${id}`} />}\n        </Col>\n        <Col sm={12} md={6}>\n          {ctrue && cpred &&\n            <CategoryTokens ctrue={parseInt(ctrue, 10)} cpred={parseInt(cpred, 10)} />}\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default connect(\n  ({ config: { sort }}) => ({ sort })\n)(Categories);\n\nclass _CategoryTokens extends PureComponent {\n  render() {\n    const { containerHeight, features, ctrue, cpred } = this.props;\n    const cat_tokens = (features.get(ctrue) || new Map()).get(cpred) || [];\n    return (\n      <Panel>\n        <Panel.Heading>Training features</Panel.Heading>\n        <ListGroup style={{maxHeight: containerHeight - 92}}>\n          {cat_tokens.map((c,i) => (\n            <ListGroupItem key={i}>\n              {c[1]}\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Panel>\n    );\n  }\n}\nconst CategoryTokens = connect(\n  ({ features, windowSize: { height } }) => ({ features, containerHeight: height })\n)(_CategoryTokens);\n","// @see https://github.com/vaiRk/responsive-fixed-data-table/blob/master/src/responsive-fixed-data-table.js\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport { Table } from 'fixed-data-table-2';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\n\nconst initialPixels = 1;\n\nexport default class ResponsiveFixedDataTable extends React.Component {\n\tstatic propTypes = {\n\t\tcontainerStyle: PropTypes.object,\n\t\trefreshRate: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tcontainerStyle: {},\n\t\trefreshRate: 250 // ms\n\t};\n\n\tstate = {\n\t\tgridWidth: initialPixels,\n\t\tgridHeight: initialPixels\n\t};\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn !isEqual(this.props, nextProps) || !isEqual(this.state, nextState);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.__isMounted = true;\n\t\tthis._setDimensionsOnState();\n\t\tthis._attachResizeEvent();\n\t}\n\n\tcomponentWillMount() {\n\t\tconst { refreshRate } = this.props;\n\t\tthis._setDimensionsOnState = debounce(this._setDimensionsOnState, refreshRate);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.__isMounted = false;\n\t\twindow.removeEventListener('resize', this._setDimensionsOnState);\n\t}\n\n\t_attachResizeEvent() {\n\t\tif (window.addEventListener) {\n\t\t\twindow.addEventListener('resize', this._setDimensionsOnState, false);\n\t\t} else if (window.attachEvent) {\n\t\t\twindow.attachEvent('resize', this._setDimensionsOnState);\n\t\t} else {\n\t\t\twindow.onresize = this._setDimensionsOnState;\n\t\t}\n\t}\n\n\t_setDimensionsOnState = () => {\n\t\tif (this.__isMounted) {\n\t\t\tconst { offsetWidth, offsetHeight } = findDOMNode(this);\n\n\t\t\tthis.setState({\n\t\t\t\tgridWidth: offsetWidth || initialPixels,\n\t\t\t\tgridHeight: offsetHeight || initialPixels\n\t\t\t});\n\t\t}\n\t}\n\n\t_getStyle() {\n\t\treturn {\n\t\t\t...this.props.containerStyle,\n\t\t\twidth: '100%',\n\t\t\theight: '100%'\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { gridWidth, gridHeight } = this.state;\n\n\t\treturn (\n\t\t\t<div style={this._getStyle()}>\n\t\t\t\t<Table ref='table' {...this.props} width={gridWidth} height={gridHeight} />\n\t\t\t</div>\n\t\t);\n\t}\n};\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Column, Cell } from 'fixed-data-table-2';\nimport Table from './ResponsiveFixedDataTable';\nimport 'fixed-data-table-2/dist/fixed-data-table.css'\nimport './Confusion.css'\n\nconst MatrixCell = ({count, sum, self, ...props}) => {\n  const cls = (\n    !(count > 0) ? 'text-muted' :\n    self ? 'bg-success' :\n    count > sum*0.75 ? 'bg-danger' : 'bg-warning'\n  );\n  return (<Cell {...props} className={cls}>{count}</Cell>);\n};\n\nconst _TitleCell = ({cls, labels, dispatch, ...props}) => {\n  const label = labels.get(cls.label) || cls.label;\n  return (<Cell {...props} style={{textAlign: 'left'}}>{label}</Cell>);\n};\nconst TitleCell = connect(\n  ({ labels }) => ({ labels })\n)(_TitleCell);\n\nclass Confusion extends Component {\n\n  render() {\n    const { confusion: { count, matrix, classes } } = this.props;\n\n    return (\n      <div className='Confusion'>\n        <Table\n          rowHeight={30}\n          headerHeight={30}\n          footerHeight={30}\n          rowsCount={classes.length}>\n          <Column\n            align='left'\n            fixed={true}\n            width={150}\n            allowCellsRecycling={true}\n            header={<Cell>▾ actual | predicted ▸</Cell>}\n            cell={({rowIndex, ...props}) => (\n              <TitleCell cls={classes[rowIndex]} />\n            )}\n            footer={<Cell><b>Σ</b></Cell>}\n            />\n          {classes.map((cls,i) => (\n            <Column\n              align='center'\n              key={cls.label}\n              width={35}\n              allowCellsRecycling={true}\n              header={<TitleCell cls={cls} />}\n              cell={({rowIndex, ...props}) => (\n                <MatrixCell {...props} count={matrix[rowIndex][i]} self={rowIndex === i} sum={cls.tp + cls.fn} />\n              )}\n              footer={({...props}) => (\n                <Cell {...props}>{cls.tp + cls.fp}</Cell>\n              )}\n              />\n          ))}\n          <Column\n            align='center'\n            fixed={true}\n            width={50}\n            header={<Cell>Σ</Cell>}\n            allowCellsRecycling={true}\n            cell={({rowIndex, ...props}) => (\n              <Cell {...props}>{classes[rowIndex].tp + classes[rowIndex].fn}</Cell>\n            )}\n            footer={({...props}) => (\n              <Cell {...props}>{count}</Cell>\n            )}\n            />\n          <Column width={15 /* to avoid scrollbar overlapping numbers */} />\n        </Table>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ confusion }) => ({ confusion })\n)(Confusion);\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Provider } from 'react-redux'\nimport store from './store/index'\nimport { load as loadConfusion } from './store/confusion'\nimport { load as loadLabels } from './store/labels'\nimport { load as loadModel } from './store/model'\nimport { load as loadFeatures } from './store/features'\n\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport App from './components/App'\nimport Summary from './components/Summary'\nimport Categories from './components/Categories'\nimport Confusion from './components/Confusion'\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap/dist/css/bootstrap-theme.css'\nimport './index.css'\n\n// load initial data\n// @todo move to more appropriate location\nfunction loadDefault() {\n  let baseUrl = (process.env.PUBLIC_URL || '') + '/example/iris';\n  if (window.location.search.startsWith('?baseUrl=')) {\n    baseUrl = decodeURIComponent(window.location.search.slice(9));\n  }\n\n  store.dispatch(loadConfusion(baseUrl + '.cm'));\n  store.dispatch(loadLabels(baseUrl + '.labels'));\n  store.dispatch(loadModel(baseUrl + '.model'));\n  store.dispatch(loadFeatures(baseUrl + '.features'));\n}\nloadDefault();\n\n\nReactDOM.render((\n  <Provider store={store}>\n    <Router>\n      <App>\n        <Route path='/' exact component={Summary} />\n        <Route path='/categories/:ctrue?/:cpred?' component={Categories} />\n        <Route path='/confusion-matrix' component={Confusion} />\n      </App>\n    </Router>\n  </Provider>),\n  document.getElementById('root')\n);\n"],"sourceRoot":""}