{"version":3,"sources":["store/confusion.js","store/labels.js","store/files.js","store/model.js","store/config.js","store/index.js","components/App.js","components/Stat.js","components/Summary.js","components/Categories.js","components/ResponsiveFixedDataTable.js","components/Confusion.js","index.js"],"names":["initialState","count","matrix","classes","stats","micro","macro","STAT_LABELS","recall","precision","accuracy","f1","mcc","computeDerivedStats","_ref","tp","fn","fp","tn","Math","sqrt","reducer","state","arguments","length","undefined","action","type","fullMatrix","payload","trim","split","map","l","s","parseInt","slice","a","_ref2","labels","actual","predicted","label","i","p","n","Object","objectSpread","idx","computeClassStats","_ref3","r","forEach","c","keys","stat","computeMacroStats","_ref4","computeMicroStats","Map","newState","indexOf","id","name","set","status","files","files1","defineProperty","url","files2","values","f","includes","combineStatus","files3","key","value","parseFloat","sort","reverse","combineReducers","confusion","model","config","windowSize","store","createStore","applyMiddleware","thunk","dispatch","createSizeAction","window","createRemAction","listenResize","FILE_DESC","items","FileIcon","react_default","createElement","Glyphicon","glyph","className","_FilesMenu","_this$props","this","props","title","objectWithoutProperties","NavDropdown","assign","App_FileIcon","fileId","file","MenuItem","Component","FilesMenu","connect","App","Navbar","fluid","inverse","Header","Brand","Toggle","Collapse","Nav","react_router_bootstrap_lib","to","NavItem","pullRight","href","children","getStatRenderer","digitsPct","digitsFlt","digits","isNaN","toFixed","style","fontSize","verticalAlign","Pct","Flt","ModelParams","rows","push","Table","PureComponent","CategoryStats","_this$props$stats","Qm","dot","Summary","usedLabels","totalLabels","size","Well","Summary_Qm","Row","Col","sm","Panel","header","Summary_ModelParams","Summary_CategoryStats","_CategoryItem","get","Badge","marginRight","CategoryItem","_CategoryList","_this$props2","getCount","containerHeight","renderStat","Heading","ListGroup","maxHeight","ListGroupItem","bsStyle","scope","MainCategoryList","height","dispatchProps","ownProps","sortedClasses","b","SecondaryCategoryList","_ref5","cls","find","row","filter","Categories","_this$props3","_this$props3$match$pa","match","params","ida","idb","md","DropdownButton","bsSize","onClick","configSort","concat","_ref6","initialPixels","ResponsiveFixedDataTable","gridWidth","gridHeight","_setDimensionsOnState","_this","__isMounted","_findDOMNode","findDOMNode","assertThisInitialized","offsetWidth","offsetHeight","setState","nextProps","nextState","isEqual","_attachResizeEvent","refreshRate","debounce","removeEventListener","addEventListener","attachEvent","onresize","containerStyle","width","_this$state","_getStyle","main","ref","React","defaultProps","MatrixCell","sum","self","TitleCell","textAlign","Confusion","_this$props$confusion","ResponsiveFixedDataTable_ResponsiveFixedDataTable","rowHeight","headerHeight","footerHeight","rowsCount","align","fixed","allowCellsRecycling","cell","rowIndex","footer","Confusion_MatrixCell","esm_extends","_ref7","_ref8","_ref9","baseUrl","location","search","startsWith","decodeURIComponent","fetch","then","response","text","data","catch","err","console","log","loadLabels","headers","Range","loadModel","loadDefault","ReactDOM","render","es","HashRouter","src_components_App","Route","path","exact","component","document","getElementById"],"mappings":"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","file":"static/js/main.af0086e9.chunk.js","sourcesContent":["\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'confusion', url}});\n    fetch(url)\n      .then(response => response.text())\n      .then(data => dispatch({type: 'CONFUSION_LOAD', payload: data}))\n      // .then(data => dispatch(sort('recall')))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'confusion'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nexport function sort(key, reverse = true) {\n  return {type: 'CONFUSION_SORT', payload: {key, reverse: !!reverse}};\n}\n\nconst initialState = {\n  count: null,      // number of items\n  matrix: [],       // confusion matrix contents (without headers or sums)\n  classes: [],      // class labels and stats in matrix order (x- and y-axis) (array of objects)\n  stats: {\n    micro: {},      // micro-averaged statistics for all classes\n    macro: {},      // macro-averaged statistics for all classes\n  },\n};\n\nexport const STAT_LABELS = {\n  recall:    'Recall',\n  precision: 'Precision',\n  accuracy:  'Accuracy',\n  f1:        'F1-score',\n  mcc:       'MCC-score',\n};\n\n// @see https://en.wikipedia.org/wiki/Confusion_matrix\n// @see http://chrisalbon.com/machine-learning/precision_recall_and_F1_scores.html\nfunction computeDerivedStats({ tp, fn, fp, tn }) {\n    const accuracy  = 1.0 * (tp + tn) / (tp + fn + fp + tn);\n    const precision = 1.0 * tp / (tp + fp) || 0;\n    const recall    = 1.0 * tp / (tp + fn) || 0;\n    const f1        = 2.0 * tp / (2 * tp + fp + fn);\n    const mcc       = (tp * tn - fp * fn) / Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn)) || 0;\n    return { accuracy, precision, recall, f1, mcc };\n}\n\nfunction computeClassStats({ count, matrix, labels, actual, predicted }) {\n  return labels.map((label, i) => {\n    const p   = actual[i];          // positive observations\n    const n   = count - p;          // negative observations\n    const tp  = matrix[i][i];       // positive observations with positive predictions\n    const fn  = p - tp;             // positive observations with negative predictions\n    const fp  = predicted[i] - tp;  // negative observations with positive predictions\n    const tn  = n - fp;             // negative observations with negative predictions\n    return {\n      idx: i, label,\n      tp, fp, tn, fn,\n      ...computeDerivedStats({ tp, fp, tn, fn })\n    };\n  });\n}\n\n// compute macro-averaged statistics\n// @see http://rali.iro.umontreal.ca/rali/sites/default/files/publis/sokolovalapalme-jipm09.pdf\nfunction computeMacroStats({ count, classes }) {\n  const r = { accuracy: 0, precision: 0, recall: 0, f1: 0, mcc: 0 };\n  classes.forEach(c => {\n    Object.keys(r).forEach(stat => r[stat] += c[stat]);\n  });\n  Object.keys(r).forEach(stat => r[stat] /= classes.length);\n  return r;\n}\n\n// compute micro-averaged statistics\nfunction computeMicroStats({ count, classes }) {\n  const s = { tp: 0, fn: 0, fp: 0, tn: 0};\n  classes.forEach(c => {\n    Object.keys(s).forEach(stat => s[stat] += c[stat]);\n  });\n  return { ...s, ...computeDerivedStats(s) };\n}\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'CONFUSION_LOAD': {\n    // read full matrix\n    const fullMatrix = action.payload.trim().split(\"\\n\").map(l => l.split(' ').map(s => parseInt(s, 10)));\n    // decompose into basic components\n    const count = fullMatrix.slice(-1)[0].slice(-1)[0];\n    const matrix = fullMatrix.slice(1, -1).map(a => a.slice(1, -1));\n    const labels = fullMatrix[0].slice(1, -1);\n    // compute statistics\n    const actual = fullMatrix.slice(1, -1).map(a => a.slice(-1)[0]);\n    const predicted = fullMatrix.slice(-1)[0].slice(1, -1);\n    const classes = computeClassStats({ count, matrix, labels, actual, predicted });\n    const macro = computeMacroStats({ count, classes });\n    const micro = computeMicroStats({ count, classes });\n    // we have everything now :)\n    return { count, matrix, classes, stats: { micro, macro } };\n  }\n  /*\n  case 'CONFUSION_SORT': {\n    // @todo fix this, indices are mixed up somehow\n    // first create sorted array with position and sort-value\n    const { key, reverse } = action.payload;\n    const sortmul = reverse ? -1 : 1;\n    const mapping = state.classes.map((c,i) => ({ i, v: c[key] }));\n    mapping.sort((a,b) => (a.v - b.v) * sortmul);\n    // then sort labels and matrix\n    const classes = mapping.map(m => ({ ...state.classes[m.i], idx: m.i }));\n    const matrix = mapping.map(m => {\n      const row = state.matrix[m.i];\n      return mapping.map(n => row[n.i]);\n    });\n    return { ...state, matrix, classes };\n  }\n  */\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'labels', url}});\n    fetch(url)\n      .then(response => response.text())\n      .then(data => dispatch({type: 'LABELS_LOAD', payload: data}))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'labels'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nconst initialState = new Map();\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'LABELS_LOAD':\n    const newState = new Map();\n    action.payload.trim().split(\"\\n\").forEach(l => {\n      const i = l.indexOf(' ');\n      const id = parseInt(l.slice(0, i), 10);\n      const name = l.slice(i + 1).trim();\n      newState.set(id, name);\n    });\n    return newState;\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nconst initialState = {\n  status: false,\n  files: {},\n};\n\nfunction combineStatus(files) {\n  const values = Object.values(files).map(f => f.status);\n  if (values.includes(false)) return false;\n  if (values.length === 0 || values.includes(null)) return null;\n  return true;\n}\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'FILE_LOADING':\n    const files1 = { ...state.files, [action.payload.id]: {status: null, url: action.payload.url} };\n    return { ...state, status: null, files: files1 };\n  case 'FILE_LOADED':\n    const files2 = { ...state.files, [action.payload.id]: {...state.files[action.payload.id], status: true} };\n    return { ...state, status: combineStatus(files2), files: files2 };\n  case 'FILE_FAILED':\n    const files3 = { ...state.files, [action.payload.id]: {...state.files[action.payload.id], status: false} };\n    return { ...state, status: false, files: files3 };\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\n// we're only interested in the model header, the rest may be too large to use\nexport function load(url) {\n  return (dispatch) => {\n    dispatch({type: 'FILE_LOADING', payload: {id: 'model', url}});\n    fetch(url, {headers: {'Range': 'bytes=0-10000'}})\n      .then(response => response.text())\n      .then(data => {\n        let idx = data.indexOf('\\nw\\n');\n        if (idx < 0) idx = data.indexOf('\\nSV\\n');\n        return data.slice(0, idx);\n      })\n      // streaming interface not widely supported yet\n      /* .then(response => {\n        const reader = response.body.getReader();\n        const decoder = new TextDecoder();\n        let data = '';\n        return reader.read().then(function processResult(result) {\n          if (result.done) return;\n          data += decoder.decode(result.value, {stream: true});\n          // only keep the part before 'w' or 'SV' on a line by itself\n          let idx = data.indexOf('\\nw\\n');\n          if (idx < 0) idx = data.indexOf('\\nSV\\n');\n          if (idx >= 0) {\n            reader.cancel();\n            return data.slice(0, idx);\n          }\n          // next chunk\n          return reader.read().then(processResult);\n        });\n      }) */\n      .then(data => dispatch({type: 'MODEL_LOAD', payload: data}))\n      .then(data => dispatch({type: 'FILE_LOADED', payload: {id: 'model'}}))\n      .catch(err => console.log(err));\n  };\n}\n\nconst initialState = new Map();\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'MODEL_LOAD':\n    const newState = new Map();\n    action.payload.trim().split(\"\\n\").forEach(l => {\n      const i = l.indexOf(' ');\n      const key = l.slice(0, i);\n      let value = l.slice(i + 1);\n      if (value) {\n        if (key === 'label' || key === 'nr_sv' || key === 'num_words' || key === 'num_classes' || key === 'total_params') {\n          value = value.split(' ').map(s => parseInt(s, 10));\n        }\n        if (key === 'rho') {\n          value = value.split(' ').map(s => parseFloat(s));\n        }\n        newState.set(key, value);\n      }\n    });\n    return newState;\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","\nexport function sort(key, reverse = null) {\n  return (dispatch) => {\n    dispatch({ type: 'CONFIG_UPDATE_SORT', payload: { key, reverse } });\n    // dispatch({ type: 'CONFUSION_SORT', payload: { key, reverse: !!reverse } });\n  };\n}\n\nconst initialState = {\n  sort: {\n    key: 'recall',\n    reverse: true,\n  },\n};\n\nexport function reducer(state = initialState, action) {\n  switch(action.type) {\n  case 'CONFIG_UPDATE_SORT':\n    const payload = action.payload;\n    const reverse = payload.reverse !== null ? payload.reverse\n                      : (payload.key === state.sort.key) !== state.sort.reverse;\n    return { ...state, sort: { ...payload, reverse } };\n  default:\n    return state;\n  }\n}\n\nexport default reducer;\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\nimport thunk from 'redux-thunk'\nimport { reducer as confusion } from './confusion'\nimport { reducer as labels } from './labels'\nimport { reducer as files } from './files'\nimport { reducer as model } from './model'\nimport { reducer as config } from './config'\nimport windowSize, { createRemAction, createSizeAction, listenResize } from 'redux-windowsize'\n\nconst reducer = combineReducers({confusion, labels, files, model, config, windowSize});\nconst store = createStore(reducer, applyMiddleware(thunk));\n\n// Update and watch window size\nstore.dispatch(createSizeAction(window));\nstore.dispatch(createRemAction(window));\nlistenResize(store, window, 100);\n\nexport default store;\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Glyphicon, MenuItem, Nav, Navbar, NavDropdown, NavItem } from 'react-bootstrap'\nimport { IndexLinkContainer, LinkContainer } from 'react-router-bootstrap'\nimport './App.css'\n\nconst FILE_DESC = {\n  labels: 'Category labels',\n  confusion: 'Confusion matrix',\n  items: 'Training data',\n  model: 'Model properties',\n};\n\nconst FileIcon = ({ status }) => (\n  status === true\n    ? <Glyphicon glyph={'ok'} className='text-success' />\n    : status === false\n    ? <Glyphicon glyph={'remove'} className='text-danger' />\n    : <Glyphicon glyph={'refresh'} className='text-muted spinning' />\n);\n\nclass _FilesMenu extends Component {\n  render() {\n    const { files, title, dispatch, ...props } = this.props;\n    return (\n      <NavDropdown title={<span><FileIcon status={files.status} />{' '}{title}</span>} {...props}>\n        {Object.keys(files.files).map(fileId => {\n          const file = files.files[fileId];\n          return (\n            <MenuItem key={fileId} title={file.url}>\n              <FileIcon status={file.status} />{' '}\n              <span className='FileDesc'>{FILE_DESC[fileId] || <tt>{fileId}</tt>}</span>\n              <span className='FileName'>{file.url && file.url.split('/').reverse()[0]}</span>\n            </MenuItem>\n          );\n        })}\n      </NavDropdown>\n    );\n  }\n}\n\nconst FilesMenu = connect(\n  ({ files }) => ({ files })\n)(_FilesMenu);\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar fluid inverse>\n          <Navbar.Header>\n            <Navbar.Brand>MLC-Eval</Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav>\n              <IndexLinkContainer to={'/'}><NavItem>Summary</NavItem></IndexLinkContainer>\n              <LinkContainer to={'/categories'}><NavItem>Categories</NavItem></LinkContainer>\n              <LinkContainer to={'/confusion-matrix'}><NavItem>Confusion Matrix</NavItem></LinkContainer>\n            </Nav>\n            <Nav pullRight>\n              <NavItem href='https://github.com/q-m/mlc-eval#mlc-eval'>Help</NavItem>\n              <FilesMenu title='Files' id='nav-files-menu' />\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\n\nexport const Pct = ({value, digits}) => (\n  !isNaN(value)\n  ? <span>\n      {(100 * value).toFixed(digits || 0)}\n      <span style={{fontSize: '75%', verticalAlign: 'middle'}}>%</span>\n    </span>\n  : null\n);\nexport const Flt = ({value, digits}) => (\n  !isNaN(value)\n  ? <span>{value.toFixed(digits || 1)}</span>\n  : null\n);\n\n// returns function for rendering the selected statistic\nexport const getStatRenderer = (stat, digitsPct = 0, digitsFlt = 1) => (\n  !stat\n  ? () => null\n  : ['accuracy', 'precision', 'recall'].includes(stat)\n  ? value => Pct({ value, digits: digitsPct })\n  : value => Flt({ value, digits: digitsFlt })\n);\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { Well, Row, Col, Panel, Table } from 'react-bootstrap'\nimport { STAT_LABELS } from '../store/confusion'\nimport { getStatRenderer } from './Stat'\nimport './Summary.css'\n\nclass ModelParams extends PureComponent {\n  render() {\n    const { model } = this.props;\n    let rows = [];\n    model.forEach((value, key) => {\n      if (key === 'label' || key === 'rho' || key === 'nr_sv') return; // skip that one, we want different thing\n      rows.push(\n        <tr key={key}>\n          <th>{key}</th>\n          <td><tt>{value}</tt></td>\n        </tr>\n      );\n    });\n    return (\n      <Table className='ModelParams no-head'>\n        <tbody>{rows}</tbody>\n      </Table>\n    );\n  }\n}\n\nclass CategoryStats extends PureComponent {\n  render() {\n    const { stats: { micro, macro } } = this.props;\n    return (\n      <Table className='CategoryStats no-head'>\n        <tbody>\n          {Object.keys(STAT_LABELS).map(stat => (\n            <tr key={stat}>\n              <th>{STAT_LABELS[stat]}</th>\n              <td>{getStatRenderer(stat, 1, 2)(micro[stat])}</td>\n              <td>{getStatRenderer(stat, 1, 2)(macro[stat])}</td>\n            </tr>\n          ))}\n        </tbody>\n        <tfoot>\n          <tr><td></td><th>micro avg.</th><th>macro avg.</th></tr>\n        </tfoot>\n      </Table>\n    );\n  }\n}\n\nconst Qm = ({dot}) => (<span className='spinning text-muted inline-block'>{dot ? '...' : '?'}</span>);\n\nclass Summary extends PureComponent {\n  render() {\n    const { confusion, labels, files, model } = this.props;\n    const usedLabels = confusion.classes.length;\n    const totalLabels = labels.size;\n    return (\n      <div className='Summary container'>\n        <Well>\n          <h2>Classification evaluation <small>summary</small></h2>\n          <p>\n            You have trained with <b>{confusion.count || <Qm />}</b> samples\n            in <b>{usedLabels}</b> categories\n            {totalLabels && <span> (out of <b>{totalLabels}</b> defined)</span>}.\n          </p>\n        </Well>\n        <Row>\n          <Col sm={4}>\n            <Panel header={<h3>Model parameters</h3>}>\n              {model.size > 0\n                ? <ModelParams model={model} />\n                : files.files.model\n                ? <em className='text-muted'>Loading model <Qm dot /></em>\n                : <em className='text-muted'>Please load a model.</em>}\n              </Panel>\n          </Col>\n          <Col sm={4}>\n            <Panel header={<h3>Statistics</h3>}>\n              {confusion.count\n                ? <CategoryStats stats={confusion.stats} />\n                : files.files.confusion\n                ? <em className='text-muted'>Loading confusion matrix <Qm dot /></em>\n                : <em className='text-muted'>Please load a confusion matrix.</em>}\n              </Panel>\n            </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ model, confusion, labels, files }) => ({ model, confusion, labels, files })\n)(Summary);\n","import React, { PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { Badge, Row, Col, DropdownButton, ListGroup, ListGroupItem, MenuItem, Panel } from 'react-bootstrap'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { sort as configSort } from '../store/config'\nimport { STAT_LABELS } from '../store/confusion'\nimport { getStatRenderer } from './Stat'\nimport './Categories.css'\n\nclass _CategoryItem extends PureComponent {\n  render() {\n    const { id, stat, count, labels } = this.props;\n    return (\n      <div>\n        {labels.get(id) || id}\n        <Badge style={stat ? {marginRight: '3.5em'} :null}>{count}</Badge>\n        <Badge className='alert-info'>{stat}</Badge>\n      </div>\n    );\n  }\n}\nconst CategoryItem = connect(({ labels }) => {\n  return { labels };\n})(_CategoryItem);\n\nclass _CategoryList extends PureComponent {\n  render() {\n    const { id, header, classes, getCount, href, stat, containerHeight, dispatch } = this.props;\n    const renderStat = getStatRenderer(stat);\n    return (\n      <Panel>\n        <Panel.Heading>{header}</Panel.Heading>\n        <ListGroup className='CategoryList' style={{maxHeight: containerHeight - 92}}>\n          {classes.map(c => (\n            <LinkContainer key={c.label} to={href(c.label)}>\n              <ListGroupItem bsStyle={id ? (id === c.label ? 'success' : 'warning') : null}>\n                <CategoryItem id={c.label} count={getCount(c)} stat={renderStat(c[stat])} scope={id} />\n              </ListGroupItem>\n            </LinkContainer>\n          ))}\n        </ListGroup>\n      </Panel>\n    );\n  }\n}\n// @todo move gathering data somewhere else, so that link state change doesn't trigger it\nconst MainCategoryList = connect(({ confusion: { classes }, config: { sort }, windowSize: { height } }) => {\n  const getCount = c => c.tp + c.fn;\n  return { classes, getCount, stat: sort.key, sort, containerHeight: height };\n}, null, ({ classes, sort, ...state }, dispatchProps, ownProps) => {\n  const sortedClasses = classes.slice().sort((a,b) => (sort.reverse ? -1 : 1) * (a[sort.key] - b[sort.key]));\n  return { classes: sortedClasses, ...state, ...dispatchProps, ...ownProps };\n})(_CategoryList);\n\nconst SecondaryCategoryList = connect(({ labels, confusion, windowSize: {height} }) => {\n  return { labels, confusion, containerHeight: height }\n}, null, ({ labels, confusion, containerHeight }, dispatchProps, ownProps) => {\n  const cls = confusion.classes.find(l => l.label === ownProps.id) || {};\n  const row = confusion.matrix[cls.idx] || [];\n  const getCount = c => row[c.idx];\n  const classes = confusion.classes.filter((c,i) => row[i] > 0);\n  classes.sort((a,b) => (-1 * (row[a.idx] - row[b.idx])));\n  return { classes, getCount, containerHeight, ...dispatchProps, ...ownProps };\n})(_CategoryList);\n\nclass Categories extends PureComponent {\n  render() {\n    const { sort, dispatch, match: { params: { ida, idb } } } = this.props;\n    return (\n      <Row className='Categories'>\n        <Col sm={6} md={3}>\n          <MainCategoryList\n            header={\n              <div>\n                <div className='pull-right'>\n                  <DropdownButton id='sort' bsStyle='info' bsSize='xsmall' title={STAT_LABELS[sort.key]} pullRight>\n                    {Object.keys(STAT_LABELS).map(stat => (\n                      <MenuItem key={stat} onClick={() => dispatch(configSort(stat))}>{STAT_LABELS[stat]}</MenuItem>\n                    ))}\n                  </DropdownButton>\n                </div>\n                Actual\n              </div>\n            }\n            href={(id) => `/categories/${id}`} />\n        </Col>\n        <Col sm={6} md={3}>\n          {ida\n            ? <SecondaryCategoryList id={parseInt(ida, 10)}\n                header='Predicted'\n                href={(id) => `/categories/${ida}/${id}`} />\n            : null}\n        </Col>\n        <Col sm={12} md={6}>\n\n        </Col>\n      </Row>\n    );\n  }\n}\n\nexport default connect(\n  ({ config: { sort }}) => ({ sort })\n)(Categories);\n","// @see https://github.com/vaiRk/responsive-fixed-data-table/blob/master/src/responsive-fixed-data-table.js\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport { Table } from 'fixed-data-table-2';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\n\nconst initialPixels = 1;\n\nexport default class ResponsiveFixedDataTable extends React.Component {\n\tstatic propTypes = {\n\t\tcontainerStyle: PropTypes.object,\n\t\trefreshRate: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tcontainerStyle: {},\n\t\trefreshRate: 250 // ms\n\t};\n\n\tstate = {\n\t\tgridWidth: initialPixels,\n\t\tgridHeight: initialPixels\n\t};\n\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn !isEqual(this.props, nextProps) || !isEqual(this.state, nextState);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.__isMounted = true;\n\t\tthis._setDimensionsOnState();\n\t\tthis._attachResizeEvent();\n\t}\n\n\tcomponentWillMount() {\n\t\tconst { refreshRate } = this.props;\n\t\tthis._setDimensionsOnState = debounce(this._setDimensionsOnState, refreshRate);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.__isMounted = false;\n\t\twindow.removeEventListener('resize', this._setDimensionsOnState);\n\t}\n\n\t_attachResizeEvent() {\n\t\tif (window.addEventListener) {\n\t\t\twindow.addEventListener('resize', this._setDimensionsOnState, false);\n\t\t} else if (window.attachEvent) {\n\t\t\twindow.attachEvent('resize', this._setDimensionsOnState);\n\t\t} else {\n\t\t\twindow.onresize = this._setDimensionsOnState;\n\t\t}\n\t}\n\n\t_setDimensionsOnState = () => {\n\t\tif (this.__isMounted) {\n\t\t\tconst { offsetWidth, offsetHeight } = findDOMNode(this);\n\n\t\t\tthis.setState({\n\t\t\t\tgridWidth: offsetWidth || initialPixels,\n\t\t\t\tgridHeight: offsetHeight || initialPixels\n\t\t\t});\n\t\t}\n\t}\n\n\t_getStyle() {\n\t\treturn {\n\t\t\t...this.props.containerStyle,\n\t\t\twidth: '100%',\n\t\t\theight: '100%'\n\t\t};\n\t}\n\n\trender() {\n\t\tconst { gridWidth, gridHeight } = this.state;\n\n\t\treturn (\n\t\t\t<div style={this._getStyle()}>\n\t\t\t\t<Table ref='table' {...this.props} width={gridWidth} height={gridHeight} />\n\t\t\t</div>\n\t\t);\n\t}\n};\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Column, Cell } from 'fixed-data-table-2';\nimport Table from './ResponsiveFixedDataTable';\nimport 'fixed-data-table-2/dist/fixed-data-table.css'\nimport './Confusion.css'\n\nconst MatrixCell = ({count, sum, self, ...props}) => {\n  const cls = (\n    !(count > 0) ? 'text-muted' :\n    self ? 'bg-success' :\n    count > sum*0.75 ? 'bg-danger' : 'bg-warning'\n  );\n  return (<Cell {...props} className={cls}>{count}</Cell>);\n};\n\nconst _TitleCell = ({cls, labels, dispatch, ...props}) => {\n  const label = labels.get(cls.label) || cls.label;\n  return (<Cell {...props} style={{textAlign: 'left'}}>{label}</Cell>);\n};\nconst TitleCell = connect(\n  ({ labels }) => ({ labels })\n)(_TitleCell);\n\nclass Confusion extends Component {\n\n  render() {\n    const { confusion: { count, matrix, classes } } = this.props;\n\n    return (\n      <div className='Confusion'>\n        <Table\n          rowHeight={30}\n          headerHeight={30}\n          footerHeight={30}\n          rowsCount={classes.length}>\n          <Column\n            align='left'\n            fixed={true}\n            width={150}\n            allowCellsRecycling={true}\n            header={<Cell>▾ actual | predicted ▸</Cell>}\n            cell={({rowIndex, ...props}) => (\n              <TitleCell cls={classes[rowIndex]} />\n            )}\n            footer={<Cell><b>Σ</b></Cell>}\n            />\n          {classes.map((cls,i) => (\n            <Column\n              align='center'\n              key={cls.label}\n              width={35}\n              allowCellsRecycling={true}\n              header={<TitleCell cls={cls} />}\n              cell={({rowIndex, ...props}) => (\n                <MatrixCell {...props} count={matrix[rowIndex][i]} self={rowIndex === i} sum={cls.tp + cls.fn} />\n              )}\n              footer={({...props}) => (\n                <Cell {...props}>{cls.tp + cls.fp}</Cell>\n              )}\n              />\n          ))}\n          <Column\n            align='center'\n            fixed={true}\n            width={50}\n            header={<Cell>Σ</Cell>}\n            allowCellsRecycling={true}\n            cell={({rowIndex, ...props}) => (\n              <Cell {...props}>{classes[rowIndex].tp + classes[rowIndex].fn}</Cell>\n            )}\n            footer={({...props}) => (\n              <Cell {...props}>{count}</Cell>\n            )}\n            />\n          <Column width={15 /* to avoid scrollbar overlapping numbers */} />\n        </Table>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  ({ confusion }) => ({ confusion })\n)(Confusion);\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { Provider } from 'react-redux'\nimport store from './store/index'\nimport { load as loadConfusion } from './store/confusion'\nimport { load as loadLabels } from './store/labels'\nimport { load as loadModel } from './store/model'\n\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport App from './components/App'\nimport Summary from './components/Summary'\nimport Categories from './components/Categories'\nimport Confusion from './components/Confusion'\n\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap/dist/css/bootstrap-theme.css'\nimport './index.css'\n\n// load initial data\n// @todo move to more appropriate location\nfunction loadDefault() {\n  let baseUrl = (process.env.PUBLIC_URL || '') + '/example/iris';\n  if (window.location.search.startsWith('?baseUrl=')) {\n    baseUrl = decodeURIComponent(window.location.search.slice(9));\n  }\n\n  store.dispatch(loadConfusion(baseUrl + '.cm'));\n  store.dispatch(loadLabels(baseUrl + '.labels'));\n  store.dispatch(loadModel(baseUrl + '.model'));\n}\nloadDefault();\n\n\nReactDOM.render((\n  <Provider store={store}>\n    <Router>\n      <App>\n        <Route path='/' exact component={Summary} />\n        <Route path='/categories/:ida?/:idb?' component={Categories} />\n        <Route path='/confusion-matrix' component={Confusion} />\n      </App>\n    </Router>\n  </Provider>),\n  document.getElementById('root')\n);\n"],"sourceRoot":""}